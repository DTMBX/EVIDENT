<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>FREE Tier Dashboard - BarberX</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet">
    <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css" rel="stylesheet">
    <style>
        .free-tier-banner {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: white;
            padding: 2rem;
            border-radius: 12px;
            margin-bottom: 2rem;
        }
        .demo-case-card {
            border: 2px solid #e0e0e0;
            border-radius: 12px;
            padding: 1.5rem;
            margin-bottom: 1rem;
            transition: all 0.3s;
            background: white;
        }
        .demo-case-card:hover {
            border-color: #667eea;
            box-shadow: 0 4px 12px rgba(102, 126, 234, 0.15);
            transform: translateY(-2px);
        }
        .demo-badge {
            background: linear-gradient(135deg, #f093fb 0%, #f5576c 100%);
            color: white;
            padding: 0.25rem 0.75rem;
            border-radius: 20px;
            font-size: 0.75rem;
            font-weight: 600;
        }
        .upload-status-card {
            background: linear-gradient(135deg, #ffeaa7 0%, #fdcb6e 100%);
            border: none;
            border-radius: 12px;
            padding: 2rem;
            margin-bottom: 2rem;
        }
        .upload-used {
            background: linear-gradient(135deg, #fab1a0 0%, #ff7675 100%);
        }
        .upgrade-cta {
            background: linear-gradient(135deg, #00b894 0%, #00cec9 100%);
            color: white;
            padding: 1.5rem;
            border-radius: 12px;
            text-align: center;
            margin: 2rem 0;
        }
        .resource-card {
            border: 1px solid #e0e0e0;
            border-radius: 8px;
            padding: 1rem;
            margin-bottom: 1rem;
            transition: all 0.2s;
        }
        .resource-card:hover {
            border-color: #667eea;
            background: #f8f9ff;
        }
        .expiration-warning {
            background: #fff3cd;
            border-left: 4px solid #ffc107;
            padding: 1rem;
            border-radius: 4px;
            margin-bottom: 1.5rem;
        }
        .expiration-danger {
            background: #f8d7da;
            border-left: 4px solid #dc3545;
        }
    </style>
</head>
<body class="bg-light">
    
    <div class="container py-5">
        
        <!-- FREE Tier Welcome Banner -->
        <div class="free-tier-banner">
            <div class="row align-items-center">
                <div class="col-md-8">
                    <h2><i class="fas fa-gift me-2"></i>Welcome to BarberX FREE Tier</h2>
                    <p class="mb-0">Explore the platform with demo cases and one file upload. Upgrade anytime for unlimited access!</p>
                </div>
                <div class="col-md-4 text-end">
                    <span class="badge bg-light text-dark px-4 py-2" style="font-size: 1.1rem;">
                        <i class="fas fa-star text-warning me-1"></i> FREE Plan
                    </span>
                </div>
            </div>
        </div>

        <!-- Data Expiration Warning (if applicable) -->
        {% if data_status and data_status.days_remaining is not none %}
        <div class="expiration-warning {% if data_status.days_remaining <= 1 %}expiration-danger{% endif %}">
            <h5>
                <i class="fas fa-exclamation-triangle me-2"></i>
                {% if data_status.days_remaining > 0 %}
                    Your Data Expires in {{ data_status.days_remaining }} Day{% if data_status.days_remaining != 1 %}s{% endif %}
                {% else %}
                    Your Data Has Expired
                {% endif %}
            </h5>
            <p class="mb-2">
                FREE tier data is automatically deleted after 7 days. 
                Uploaded on {{ data_status.upload_date }}, expires {{ data_status.expiration_date }}.
            </p>
            <a href="/pricing" class="btn btn-warning btn-sm">
                <i class="fas fa-arrow-up me-1"></i> Upgrade to Keep Your Data
            </a>
        </div>
        {% endif %}

        <!-- One-Time Upload Status -->
        <div class="upload-status-card {% if upload_status.one_time_upload_used %}upload-used{% endif %}">
            <div class="row align-items-center">
                <div class="col-md-8">
                    <h4>
                        <i class="fas fa-upload me-2"></i>
                        {% if not upload_status.one_time_upload_used %}
                            One-Time Upload Available
                        {% else %}
                            Upload Already Used
                        {% endif %}
                    </h4>
                    <p class="mb-0">
                        {% if not upload_status.one_time_upload_used %}
                            <strong>You can upload ONE file</strong> (either a PDF up to 10 pages OR a video up to 5 minutes).
                            <br>Choose wisely - you only get one!
                        {% else %}
                            You used your one-time upload on {{ upload_status.upload_date }}.
                            <br>Upgrade to STARTER ($29/mo) to upload more files.
                        {% endif %}
                    </p>
                </div>
                <div class="col-md-4 text-end">
                    {% if not upload_status.one_time_upload_used %}
                        <a href="/upload" class="btn btn-light btn-lg">
                            <i class="fas fa-cloud-upload-alt me-2"></i> Upload Now
                        </a>
                    {% else %}
                        <a href="/pricing" class="btn btn-light btn-lg">
                            <i class="fas fa-arrow-up me-2"></i> Upgrade
                        </a>
                    {% endif %}
                </div>
            </div>
        </div>

        <!-- Demo Cases Section -->
        <div class="row mb-4">
            <div class="col-12">
                <h3 class="mb-3">
                    <i class="fas fa-folder-open me-2 text-primary"></i>
                    Pre-Loaded Demo Cases
                </h3>
                <p class="text-muted">Explore real-world examples with full AI analysis, timelines, and reports.</p>
            </div>
        </div>

        <div class="row">
            {% for demo in demo_cases %}
            <div class="col-md-6 col-lg-4">
                <div class="demo-case-card">
                    <div class="d-flex justify-content-between align-items-start mb-2">
                        <span class="demo-badge">DEMO</span>
                        <span class="badge bg-secondary">{{ demo.case_type }}</span>
                    </div>
                    <h5>{{ demo.title }}</h5>
                    <p class="text-muted small mb-2">{{ demo.case_number }} • {{ demo.incident_date }}</p>
                    <p class="small">{{ demo.description }}</p>
                    
                    <div class="d-flex justify-content-between align-items-center mt-3">
                        <span class="small text-muted">
                            <i class="fas fa-shield-alt me-1"></i>
                            {{ demo.ai_analysis.risk_level }} Risk
                        </span>
                        <a href="/cases/{{ demo.id }}" class="btn btn-sm btn-outline-primary">
                            <i class="fas fa-eye me-1"></i> View Case
                        </a>
                    </div>
                </div>
            </div>
            {% endfor %}
        </div>

        <!-- Educational Resources -->
        <div class="row mt-5 mb-4">
            <div class="col-12">
                <h3 class="mb-3">
                    <i class="fas fa-graduation-cap me-2 text-success"></i>
                    Educational Resources
                </h3>
                <p class="text-muted">Free guides, templates, and tutorials to master legal tech.</p>
            </div>
        </div>

        <div class="row">
            <!-- Guides -->
            <div class="col-md-6">
                <h5 class="mb-3"><i class="fas fa-book me-2"></i>Guides</h5>
                {% for guide in educational_resources.guides[:3] %}
                <div class="resource-card">
                    <div class="d-flex justify-content-between align-items-start">
                        <div>
                            <h6 class="mb-1">{{ guide.title }}</h6>
                            <p class="small text-muted mb-2">{{ guide.description }}</p>
                            <span class="badge bg-light text-dark">{{ guide.duration }}</span>
                        </div>
                        <a href="{{ guide.content_url }}" class="btn btn-sm btn-outline-success">
                            <i class="fas fa-arrow-right"></i>
                        </a>
                    </div>
                </div>
                {% endfor %}
                <a href="/education/guides" class="btn btn-sm btn-link">View All Guides →</a>
            </div>

            <!-- Templates -->
            <div class="col-md-6">
                <h5 class="mb-3"><i class="fas fa-file-alt me-2"></i>Templates</h5>
                {% for template in educational_resources.templates[:3] %}
                <div class="resource-card">
                    <div class="d-flex justify-content-between align-items-start">
                        <div>
                            <h6 class="mb-1">{{ template.title }}</h6>
                            <p class="small text-muted mb-2">{{ template.description }}</p>
                            <span class="badge bg-light text-dark">{{ template.file_type }} • {{ template.file_size }}</span>
                        </div>
                        <a href="{{ template.download_url }}" class="btn btn-sm btn-outline-success" download>
                            <i class="fas fa-download"></i>
                        </a>
                    </div>
                </div>
                {% endfor %}
                <a href="/education/templates" class="btn btn-sm btn-link">View All Templates →</a>
            </div>
        </div>

        <!-- Upgrade CTA -->
        <div class="upgrade-cta">
            <h3 class="mb-3">Ready to Unlock the Full Platform?</h3>
            <p class="mb-4">Upgrade to STARTER and get 10 videos, 5 PDFs, AI analysis, and more - every month!</p>
            <div class="row justify-content-center">
                <div class="col-md-3 mb-3">
                    <div class="card border-0 shadow-sm">
                        <div class="card-body text-center">
                            <h4 class="text-success">$29</h4>
                            <p class="small text-muted mb-0">per month</p>
                        </div>
                    </div>
                </div>
                <div class="col-md-6 d-flex align-items-center">
                    <a href="/pricing" class="btn btn-light btn-lg w-100">
                        <i class="fas fa-rocket me-2"></i> View All Plans & Upgrade
                    </a>
                </div>
            </div>
        </div>

        <!-- What You Get With Paid Plans -->
        <div class="row mt-4">
            <div class="col-12">
                <h5 class="text-center mb-4">What You Get With Paid Plans</h5>
            </div>
            <div class="col-md-3">
                <div class="text-center p-3">
                    <i class="fas fa-infinity fa-3x text-primary mb-2"></i>
                    <h6>Recurring Uploads</h6>
                    <p class="small text-muted">Upload files every month, not just once</p>
                </div>
            </div>
            <div class="col-md-3">
                <div class="text-center p-3">
                    <i class="fas fa-brain fa-3x text-success mb-2"></i>
                    <h6>AI Assistant</h6>
                    <p class="small text-muted">Chat with AI about your cases</p>
                </div>
            </div>
            <div class="col-md-3">
                <div class="text-center p-3">
                    <i class="fas fa-file-pdf fa-3x text-danger mb-2"></i>
                    <h6>Court-Ready Reports</h6>
                    <p class="small text-muted">Professional reports without watermarks</p>
                </div>
            </div>
            <div class="col-md-3">
                <div class="text-center p-3">
                    <i class="fas fa-database fa-3x text-warning mb-2"></i>
                    <h6>Permanent Storage</h6>
                    <p class="small text-muted">Keep your data forever, no 7-day limit</p>
                </div>
            </div>
        </div>

    </div>

    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.bundle.min.js"></script>
</body>
</html>
